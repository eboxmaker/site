title: 软件框架
---
良好的程序框架有利于多人同时开发的分工合作。统一的编程标准便于程序的移植和重复利用。一个庞大的工程如果没有一个良好的程序结构和统一的编程标准，会导致程序耦合关系混乱、层次不明朗、代码易读性差、二次利用率低、难以维护等等缺点。所以编程一定要养成良好的习惯，你一定会收益非浅。下面介绍用本固件库推荐的程序框架。

## 架构示意图

![](http://i1.piimg.com/567571/31af78c3a5233533.png)
**官方固件库、内核支持：**是指官方3.5的标准固件库
**eBox外设固件库：**是指eBox核心代码，用户拿到的lib文件和相关头文件
**OS：**操作系统。支持任意一款操作系统
**松散耦合：**是指在使用操作系统的情况下的一些要简单处理的逻辑关系。在后面的章节中有详细介绍
**底层驱动：**是指芯片的基本读写控制驱动
**标准应用程序：**是指在基本的驱动上实现了相应的应用功能，比如在w5500上实现的网络应用协议，在mmc_sd驱动上实现的文件系统等等。这一部分不是必须的用户可以根据自己的需求，选择是否使用相应的功能。
**应用程序：**是指需要用户编写业务逻辑关系处理程序。
**注解：**
（1）操作系统：eBox是独立的一套代码，兼容操作系统，但不基于操作系统。所以操作系统是可有可无的，根据用户的需求来适当的使用或者不使用。目前eBox自带了一个操作系统，别的操作系统还需要用户去修改相关的兼容性设置。

## 顶层应用代码示例

``` c
#include "ebox.h"
void setup()
{
    ebox_init();
    PB8.mode(OUTPUT_PP);
}
int main(void)
{
    setup();
    while(1)
    {
        PB8.set();
        PB8.reset();
    }

}
```
## 工程目录结构
![](http://p1.bqimg.com/567571/9d0e293124d84389.png)
